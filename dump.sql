-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "USER" SALT '2b444b5ef73560e2' HASH 'fc8e814391e58906ee168e358f7da7c44213f51ebafa682b435eb5001fe6e322' ADMIN;       
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 1 RESTART WITH 2;    
CREATE MEMORY TABLE "PUBLIC"."INGREDIENTS"(
    "ID" INTEGER NOT NULL,
    "CREATED_AT" TIMESTAMP,
    "INGREDIENT" CHARACTER VARYING(255) NOT NULL,
    "UPDATED_AT" TIMESTAMP
);       
ALTER TABLE "PUBLIC"."INGREDIENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");  
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.INGREDIENTS;             
INSERT INTO "PUBLIC"."INGREDIENTS" VALUES
(1, TIMESTAMP '2023-01-20 23:47:19.69', 'potato', TIMESTAMP '2023-01-20 23:47:19.69');             
CREATE MEMORY TABLE "PUBLIC"."RECIPE_INGREDIENT"(
    "RECIPE_ID" INTEGER NOT NULL,
    "INGREDIENT_ID" INTEGER NOT NULL
);
ALTER TABLE "PUBLIC"."RECIPE_INGREDIENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("RECIPE_ID", "INGREDIENT_ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.RECIPE_INGREDIENT;       
CREATE MEMORY TABLE "PUBLIC"."RECIPES"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATED_AT" TIMESTAMP,
    "INSTRUCTIONS" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "NUMBER_OF_SERVINGS" INTEGER,
    "TYPE" CHARACTER VARYING(255),
    "UPDATED_AT" TIMESTAMP
);        
ALTER TABLE "PUBLIC"."RECIPES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.RECIPES; 
ALTER TABLE "PUBLIC"."INGREDIENTS" ADD CONSTRAINT "PUBLIC"."UK_6V9ORVV59I5FCY6NRB2JL605B" UNIQUE("INGREDIENT");               
ALTER TABLE "PUBLIC"."RECIPE_INGREDIENT" ADD CONSTRAINT "PUBLIC"."FKBULT6KSQVA3BK1CG64FGL0L00" FOREIGN KEY("INGREDIENT_ID") REFERENCES "PUBLIC"."INGREDIENTS"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."RECIPE_INGREDIENT" ADD CONSTRAINT "PUBLIC"."FK6FYH7XTJNI8TGSO26H8EK5B96" FOREIGN KEY("RECIPE_ID") REFERENCES "PUBLIC"."RECIPES"("ID") NOCHECK;          
